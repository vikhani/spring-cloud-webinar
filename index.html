<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Spring Cloud - Senla</title>

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/moon.css" id="theme">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<!-- Title -->
					<section style="text-align: right;">
						<h1>Spring Cloud</h1>
						<h4>И что он в себе несёт</h4>		
						<img align="left" src="img/senla.png" height="30">
					</section>

					<section>
						<div>Слайды:</div>
						<img src="img/webinar_qr.png" width="280" title="Презентация, которую вы вот прям сейчас смотрите">
						<div><a href="https://github.com/vikhani/spring-cloud-webinar">Repo слайдов</a></div>	
						<div><a href="https://github.com/vikhani/spring-cloud-webinar-demo">Repo демо-проекта</a></div>	
					</section>

					<section style="text-align: left;">
						<h4>План</h4>
						<p>1. Что это и зачем</p>
						<p>2. Config</p>
						<p>3. Discovery</p>
						<p>4. Load Balancer</p>
						<p>5. Gateway</p>
						<p>6. Circuit Breaker</p>
						<p>7. Vault</p>
						<p>7. Bus</p>
						<p>8. K8s Integration</p>
					</section>

					<section data-auto-animate style="text-align: left;">
						- Ничего не знаю про эти ваши облака, у меня проект не в облаке!<br>
						<img data-id="why" src="img/why.png" width="250">
					</section>

					<section data-auto-animate style="text-align: left;">
						<div>- Ничего не знаю про эти ваши облака, у меня проект не в облаке!</div>
						<div>- А Spring Cloud не только для облаков!</div>
						<img data-id="why" src="img/because.png" width="250">

						<!-- <img src="img/because.png" width="250""> -->
					</section>

					<section>
						<h2><a href="https://12factor.net/ru/">12 Factor App</a></h2>
						<img src="img/12_factor_app.webp" width="1000">
					</section>

					<section>
						<div style="text-align: left; font-style: italic;"><b>Суть принципов:</b></div>
						<li style="text-align: left;"><b>Декларативный формат</b> установки и настройки</li>
						<li style="text-align: left;">Максимальная <b>переносимость</b> между средами выполнения</li>
						<li style="text-align: left;">Готовность к развёртыванию на <b>облачных платформах</b></li>
						<li style="text-align: left;"><b>Continuous deployment</b></li>
						<li style="text-align: left;">Готовность к <b>масштабированию</b></li>
					</section>

					<section>
						<h2>IaaS-PaaS-SaaS</h2>
						<img src="img/saas.png" width="1000">
					</section>

					<section>
						<table>
							<tr> 
								<td><b>Тип</b></td> 
								<td><b>Примеры</b></td>
							 </tr>
							  <tr>
								 <td><b>SaaS</b></td> 
								 <td>Netflix, Google Workspace, Dropbox, Salesforce, Cisco WebEx, Concur, GoToMeeting</td>
							 </tr>
							 <tr> 
								<td><b>PaaS</b></td>
								<td>AWS Elastic Beanstalk, Windows Azure, Heroku, Force.com, Google App Engine, Apache Stratos, OpenShift</td> 
							</tr>
							<tr> 
								<td><b>IaaS</b></td>
								<td>DigitalOcean, Linode, Rackspace, Amazon Web Services (AWS), Cisco Metapod, Microsoft Azure, Google Compute Engine (GCE)</td> 
							</tr>
						 </table>
					</section>

					<section>
						<table>
						<tr>
							<td style="vertical-align: top;">
								<h2><a href="https://netflix.github.io/">Netflix OSS</a></h2>
							</td>
							<td>
								<img src="img/smoothie.png" width="500">
							</td>
						</tr>
						</table>
					</section>

					<section>
						<table style="font-size: 50%;">
							<tr>
								<td>
									Spring Cloud<br>
									Spring Cloud Commons<br>
									Spring Cloud OpenFeign<br>
									Spring Cloud Circuit Breaker<br>
									Spring Cloud Security<br>
									Spring Cloud Schema Registry<br>
									Spring Cloud Sleuth<br>
									Spring Cloud Contract<br>
									Spring Cloud Cluster<br>
									Spring Session<br>
									Spring Session Core<br>
									Spring Session Data Redis<br>
									Spring Session MongoDB<br>
									Spring Session JDBC<br>
									Spring Session Hazelcast<br>
									Spring Session for Apache Geode<br>
									Spring Cloud Gateway<br>
									Spring Cloud Config<br>
									Spring Cloud Vault<br>
									Spring Cloud Bus<br>
									Spring Cloud Netflix (Eureka)<br>
									Spring Cloud Zookeeper<br>
								</td>
								<td>
									Spring Cloud Consul<br>
									Spring Cloud Alibaba<br>
									Spring Cloud Kubernetes<br>
									Spring Cloud for Amazon Web Services<br>
									Spring Cloud Azure (Microsoft)<br>
									Spring Cloud GCP (Google)<br>
									Spring Cloud for Cloud Foundry<br>
									Spring CredHub<br>
									Spring Vault<br>
									Spring Cloud Connectors<br>
									Spring Cloud CLI<br>
									Spring Cloud Skipper<br>
									Spring Cloud Pipelines  
									Spring Cloud App Broker<br>
									Spring Cloud Open Service Broker<br>
									Spring Cloud – Foundry Service Broker<br>
									Spring Cloud Function<br>
									Spring Cloud Stream<br>
									Spring Cloud Stream Applications<br>
									Spring Cloud Task<br>
									Spring Cloud Task App Starters<br>
									Spring Cloud Data Flow<br>
									Spring Flo
								</td>
							</tr>
						</table>
						</table>
					</section>

					<section data-auto-animate>
						<h4>Historically, the release trains have names, not versions,</h4>
					</section>
					<section data-auto-animate>
						<h4 style="color: gray;">Historically, the release trains have names, not versions,</h4>
						<h4>to avoid confusion with the sub-projects.</h4>
					</section>
					<section data-auto-animate>
						<h4 style="color: gray;">Historically, the release trains have names, not versions,</h4>
						<h4 style="color: gray;">to avoid confusion with the sub-projects.</h4>
						<h4>Starting in 2020, the Spring Team moved to Calendar Versioning...</h4>
					</section>

					<section>
						<img src="img/release_train.png" width="700">
					</section>

					<section>
						<img src="img/components.png" width="1000">
					</section>

					<section>
						<table>
							<tr>
								<td style="vertical-align: top;">
									<h2>Config Server/Client</h2>
								</td>
								<td>
									<img src="img/config.png" width="700">
								</td>
							</tr>
							</table>
					</section>

					<section>
						<img src="img/config_scheme.png" width="700">
					</section>

					<section>
						<a href="https://github.com/vikhani/spring-cloud-webinar-demo">Start here</a>:
						<pre><code data-trim data-noescape style="font-size: 90%;" class="language-bash">
					  $ git clone https://github.com/vikhani/spring-cloud-webinar-demo.git
						</code></pre>
					</section>

					<section>
						Надежность туториалов наглядно:
						<div class="r-stack">
							<img class="fragment fade-in-then-out" src="img/cli1.jpg" width="800" style="border: 5px solid #555;">
							<img class="fragment fade-in-then-out" src="img/cli2.jpg" width="800" style="border: 5px solid #555;">
							<img class="fragment fade-in-then-out" src="img/cli3.png" width="800" style="border: 5px solid #555;">
							<img class="fragment fade-in-then-out" src="img/cli4.jpg" width="800" style="border: 5px solid #555;">
							<img class="fragment fade-in-then-out" src="img/cli5.jpg" width="800" style="border: 5px solid #555;">
							<img class="fragment fade-in-then-out" src="img/cli6.jpg" width="800">
						</div>
					</section>

					<section>
						<table>
							<tr>
								<td style="vertical-align: top;">
									<h2>Discovery Client</h2>
								</td>
								<td>
									<img src="img/discovery_client.png" width="700">
								</td>
							</tr>
							</table>
					</section>

					<section data-auto-animate>
						<table>
							<tr>
								<td style="vertical-align: top;">
									<h2>Load Balancer</h2>
								</td>
								<td>
									<img src="img/load_balancer.png" width="700">
								</td>
							</tr>
						</table>
					</section>
					<section data-auto-animate>
						<table>
							<tr>
								<td style="vertical-align: top;">
									<h2>Load Balancer</h2>
								</td>
								<td>
									<img src="img/load_balancer.png" width="700">
								</td>
							</tr>
						</table>
						<p style="text-align: left; font-size: smaller; font-style: italic;">Netfix Ribbon, <a href="https://spring.io/blog/2020/03/25/spring-tips-spring-cloud-loadbalancer">Spring Cloud Loadbalancer</a></p>
					</section>

					<section data-auto-animate>
						<img src="img/discovery_balancer.png" width="800">
					</section>

					<section>
						<a href="https://github.com/vikhani/spring-cloud-webinar-demo/tree/add_config_discovery">Текущий результат</a>:
						<pre><code data-trim data-noescape style="font-size: 74%;" class="language-bash">
					  $ git clone -b 2_discovery https://github.com/vikhani/spring-cloud-webinar-demo.git
						</code></pre>
					</section>

					<section>
						<table>
							<tr>
								<td style="vertical-align: top;">
									<h2>Gateway</h2>
								</td>
								<td>
									<img src="img/gateway.png" width="300">
								</td>
							</tr>
						</table>
						<p style="text-align: left; font-size: smaller; font-style: italic;">Важно: основан на неблокирующем взаимодействии!</p>
					</section>

					<section>
						<img src="img/gateway_scheme.png" width="800">
					</section>

					<section data-auto-animate>
						<table>
							<tr>
								<td style="vertical-align: top;">
									<h2>Circuit Breaker</h2>
								</td>
								<td>
									<img src="img/circuit_breaker.png" width="700">
								</td>
							</tr>
							</table>
					</section>
					<section data-auto-animate>
						<table>
							<tr>
								<td style="vertical-align: top;">
									<h2>Circuit Breaker</h2>
								</td>
								<td>
									<img src="img/circuit_breaker.png" width="700">
								</td>
							</tr>
							</table>
						<p style="text-align: left; font-size: smaller; font-style: italic;">Netflix Hystrix, Alibaba Sentinel, Spring Retry, Resilience4J</p>
					</section>
					<section data-auto-animate>
						<table>
							<tr>
								<td style="vertical-align: top;">
									<h2>Circuit Breaker</h2>
								</td>
								<td>
									<img src="img/circuit_breaker.png" width="700">
								</td>
							</tr>
							</table>
						<p style="text-align: left; font-size: smaller; font-style: italic;">Netflix Hystrix, Alibaba Sentinel, Spring Retry, Resilience4J</p>
						<img src="img/hystrix.png" width="600">
					</section>
					<section>
						<img src="img/circuit_breaker_scheme.png" width="600">
					</section>

					<section>
						<a href="https://github.com/vikhani/spring-cloud-webinar-demo/tree/add_gateway_circuit_breaker">Результат</a>:
						<pre><code data-trim data-noescape style="font-size: 65%;" class="language-bash">
					  $ git clone -b 5_circuit_breaker https://github.com/vikhani/spring-cloud-webinar-demo.git
						</code></pre>
					</section>

					<section>
						<table>
							<tr>
								<td style="vertical-align: top;">
									<h2>Vault</h2>
								</td>
								<td>
									<img src="img/vault.png" width="300">
								</td>
							</tr>
						</table>
						<p style="text-align: left; font-size: smaller; font-style: italic;">Интеграция для HashiCorp’s Vault</p>
					</section>

					<section data-auto-animate>
						Dev запуск HashiCorp’s Vault:
						<p style="text-align: left; font-size: smaller;"><a href="https://developer.hashicorp.com/vault/tutorials/getting-started/getting-started-install">⬇️ Установка HashiCorp’s Vault;</a></p>
					</section>
					<section data-auto-animate>
						Dev запуск HashiCorp’s Vault:
						<pre><code data-trim data-noescape" class="language-bash" style="font-size: 82%;">
							$ vault server --dev --dev-root-token-id="00000000-0000-0000-0000-000000000000"
						</code></pre>
					</section>
					<section data-auto-animate>
						Dev запуск HashiCorp’s Vault:
						<pre><code data-trim data-noescape" class="language-bash" style="font-size: 82%;">
							$ vault server --dev --dev-root-token-id="00000000-0000-0000-0000-000000000000"
						</code></pre>
						<pre><code data-trim data-noescape" class="language-bash">
					 		$ export VAULT_ADDR=http://localhost:8200
						</code></pre>
					</section>
					<section data-auto-animate>
						Dev запуск HashiCorp’s Vault:
						<pre><code data-trim data-noescape" class="language-bash" style="font-size: 82%;">
							$ vault server --dev --dev-root-token-id="00000000-0000-0000-0000-000000000000"
						</code></pre>
						<pre><code data-trim data-noescape" class="language-bash">
					 		$ export VAULT_ADDR=http://localhost:8200
						</code></pre>
						<pre><code data-trim data-noescape" class="language-bash" style="font-size: 59%;">
							$ vault kv put secret/application spring.datasource.username={user_name} spring.datasource.password={password}
						</code></pre>
					</section>

					<section>
						<a href="https://github.com/vikhani/spring-cloud-webinar-demo/tree/add_vault">Результат</a>:
						<pre><code data-trim data-noescape style="font-size: 80%;" class="language-bash">
					  $ git clone -b 6_vault https://github.com/vikhani/spring-cloud-webinar-demo.git
						</code></pre>
					</section>


					<section>
						<table>
							<tr>
								<td style="vertical-align: top;">
									<h2>Bus</h2>
								</td>
								<td>
									<img src="img/bus.png" width="600">
								</td>
							</tr>
						</table>
					</section>
					<section data-auto-animate>
						Dev запуск RabbitMQ:
						<pre><code data-trim data-noescape" class="language-bash">
					 		$ docker pull rabbitmq:3-management
						</code></pre>
					</section>
					<section data-auto-animate>
						Dev запуск RabbitMQ:
						<pre><code data-trim data-noescape" class="language-bash">
					 		$ docker pull rabbitmq:3-management
						</code></pre>
						<pre><code data-trim data-noescape" data-noescape style="font-size: 60%;"class="language-bash">
							$ docker run -d --hostname my-rabbit --name some-rabbit -p 15672:15672 -p 5672:5672 rabbitmq:3-management
					   </code></pre>
					</section>

					<section>
						<a href="https://github.com/vikhani/spring-cloud-webinar-demo/tree/add_bus">Результат</a>:
						<pre><code data-trim data-noescape style="font-size: 80%;" class="language-bash">
					  $ git clone -b 7_bus https://github.com/vikhani/spring-cloud-webinar-demo.git
						</code></pre>
					</section>

					<section data-auto-animate>
						<h2>K8s</h2>
					</section>
					<section data-auto-animate>
						<h2>K8s</h2>
						<div>Config Server = Config Maps and Secrets</div>
					</section>
					<section data-auto-animate>
						<h2>K8s</h2>
						<div>Config Server = Config Maps and Secrets</div>
						<div>Load Balancing = Service Instance</div>
					</section>
					<section data-auto-animate>
						<h2>K8s</h2>
						<div>Config Server = Config Maps and Secrets</div>
						<div>Load Balancing = Service Instance</div>
						<div>Discovery Server = Service Instance</div>
					</section>
					<section data-auto-animate>
						<h2>K8s</h2>
						<div>Config Server = Config Maps and Secrets</div>
						<div>Load Balancing = Service Instance</div>
						<div>Discovery Server = Service Instance</div>
						<div>Discovery Client = DNS For Service Host Name</div>
					</section>
					<section>
						<table>
							<tr>
								<td>
									<h5>Spring Cloud</h5>
								</td>
								<td>
									<h5>K8s</h5>
								</td>
							</tr>
							<tr>
								<td style="color: darkcyan; font-size: smaller;">
									Java
								</td>
								<td style="color: darkcyan; font-size: smaller;">
									Generic платформа, основанная на контейнеризации
								</td>
							</tr>
							<tr>
								<td style="color: darkcyan; font-size: smaller;">
									Java
								</td>
								<td style="color: darkcyan; font-size: smaller;">
									Поддержка полного цикла работы микросервисных приложений
								</td>
							</tr>
							<tr>
								<td style="color: darkcyan; font-size: smaller;">
									Java
								</td>
								<td style="color: darkcyan; font-size: smaller;">
									Большое коммьюнити, используемость на больших масштабах
								</td>
							</tr>
							<tr>
								<td style="color:tomato; font-size: smaller;">
									Java
								</td>
								<td style="color:tomato; font-size: smaller;">
									Generic платформа, без специализации под конкретный стек
								</td>
							</tr>
							<tr>
								<td style="color:tomato; font-size: smaller;">
									Поддержка целиком ложится на джавистов
								</td>
								<td style="color:tomato; font-size: smaller;">
									Может быть плохо изучена джавистами
								</td>
							</tr>
						</table>
					</section>
					<section>
						<div><a href="https://hub.docker.com/u/springcloud">Docker Images Spring Cloud Kubernetes</a></div>
						<div style="text-align: left; font-size: smaller;">springcloud/spring-cloud-kubernetes-configserver:3.0.4</div>
						<div style="text-align: left; font-size: smaller;">springcloud/spring-cloud-kubernetes-discoveryserver:3.0.4</div>
					</section>
					<section>
						<a href="https://github.com/vikhani/spring-cloud-webinar-demo/tree/move_to_k8s">Результат</a>:
						<pre><code data-trim data-noescape style="font-size: 78%;" class="language-bash">
					  $ git clone -b 8_k8s https://github.com/vikhani/spring-cloud-webinar-demo.git
						</code></pre>
					</section>
					<section data-auto-animate>
						<h2>Выводы</h2>
						<li>Проверяйте Release Train</li>
						<li>Не доверяйте туториалам</li>
						<li>Берите лучшее, избегайте худшего</li>
					</section>
					<section data-auto-animate>
						<h2>Выводы</h2>
						<li>Проверяйте Release Train</li>
						<li>Не доверяйте туториалам</li>
						<li>Берите лучшее, избегайте худшего</li>
						<img src="img/final.png" width="400">
					</section>
					<section data-auto-animate>
						<h1>Спасибо за внимание!<h1>
					</section>
					<section data-auto-animate>
						<h1>Спасибо за внимание!<h1>
						<img src="img/final2.jpg" width="300">
					</section>
				</section>
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				view: 'scroll',
				hash: true,
				mouseWheel: 'true',

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
			
			// Reveal.configure({ pdfMaxPagesPerSlide: 1 })
		</script>
	</body>
</html>
